---
import HTML from '../layouts/html.astro';
import Layout from '../layouts/layout.astro';
import Charsheet from '../layouts/charsheet.astro';
import { BodyPartGrid } from '../components/armor/BodyPartGrid';
import '../styles/armor/index.css';
---

<HTML title="IMI GLOBAL — TAC HOME" bodyClass="charsheet-page armor-page">
  <Layout>
    <Charsheet>
    <div class="container">
      <div class="panel panel-collapsible" id="damage-history-panel">
        <div class="panel-heading">
          <h2>Damage History</h2>
          <button class="btn-ghost-danger btn-md" id="btn-clear-history">Clear</button>
        </div>
        <div class="panel-content" id="damage-history-list"></div>
        <div class="expand-indicator"></div>
      </div>

      <!-- BODY ARMOR STATUS -->
      <div class="panel panel-collapsible expanded" id="character-armor-panel">
        <div class="panel-heading">
          <h2>Character Armor <button class="help-trigger" id="armor-help" type="button" aria-label="Armor mechanics help">?</button></h2>
          <button class="btn-outline-danger btn-md" id="btn-im-hit">I'm hit</button>
        </div>
        <BodyPartGrid client:only="preact" />
        <div class="expand-indicator"></div>
      </div>

      <div class="panel panel-collapsible" id="armor-inventory-panel">
        <div class="panel-heading">
          <h2>Owned Armor</h2>
          <span class="flex-center gap-2 text-soft armor-legend"><span class="armor-type-icon">⬡</span>Hard <span class="armor-type-icon">≈</span>Soft</span>
        </div>
        <div class="panel-content" id="armor-list"></div>
        <div class="expand-indicator"></div>
      </div>

      <div class="panel panel-collapsible" id="armor-store-panel">
        <div class="panel-heading">
          <h2>Armor Store</h2>
        </div>
        <div class="panel-content" id="armor-store"></div>
        <div class="expand-indicator"></div>
      </div>

    </div>
    </Charsheet>
  </Layout>
  <script src="../scripts/armor/render/index.ts"></script>
</HTML>
