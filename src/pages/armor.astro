---
import HTML from '../layouts/html.astro';
import Layout from '../layouts/layout.astro';
import '../styles/armor.css';
---

<HTML title="IMI GLOBAL — TAC HOME">
  <Layout>
    <div class="container">
      <div class="panel panel-collapsible" id="damage-history-panel">
        <div class="panel-heading">
          <h2>Damage History <span class="panel-count" id="history-count"></span></h2>
          <button class="button-clear" id="btn-clear-history">Clear</button>
        </div>
        <div class="panel-content" id="damage-history-list"></div>
        <div class="expand-indicator"></div>
      </div>

      <!-- BODY ARMOR STATUS -->
      <div class="panel panel-collapsible expanded" id="character-armor-panel">
        <div class="panel-heading">
          <h2>Character Armor <button class="help-trigger" id="armor-help" type="button" aria-label="Armor mechanics help">?</button></h2>
          <button class="button-hit" id="btn-im-hit">I'm hit</button>
        </div>
        <!-- Compact summary for mobile collapsed state -->
        <div class="armor-summary" id="armor-summary"></div>
        <!-- Full body grid -->
        <div class="body-grid">
          <div class="body-part" id="part-head">
            <h3>Head</h3>
            SP: <span class="sp-value" id="sp-head"></span>
            <div class="layer-list" id="layers-head"></div>
          </div>

          <div class="body-part" id="part-torso">
            <h3>Torso</h3>
            SP: <span class="sp-value" id="sp-torso"></span>
            <div class="layer-list" id="layers-torso"></div>
          </div>

          <div class="body-part" id="part-left_arm">
            <h3>Left Arm</h3>
            SP: <span class="sp-value" id="sp-left_arm"></span>
            <div class="layer-list" id="layers-left_arm"></div>
          </div>

          <div class="body-part" id="part-right_arm">
            <h3>Right Arm</h3>
            SP: <span class="sp-value" id="sp-right_arm"></span>
            <div class="layer-list" id="layers-right_arm"></div>
          </div>

          <div class="body-part" id="part-left_leg">
            <h3>Left Leg</h3>
            SP: <span class="sp-value" id="sp-left_leg"></span>
            <div class="layer-list" id="layers-left_leg"></div>
          </div>

          <div class="ev-display" id="ev-display">
            <span class="ev-label">EV</span>
            <span class="ev-value" id="ev-value">0</span>
          </div>

          <div class="body-part" id="part-right_leg">
            <h3>Right Leg</h3>
            SP: <span class="sp-value" id="sp-right_leg"></span>
            <div class="layer-list" id="layers-right_leg"></div>
          </div>
        </div>
        <div class="expand-indicator"></div>
      </div>

      <div class="panel panel-collapsible" id="armor-inventory-panel">
        <div class="panel-heading">
          <h2>Owned Armor <span class="panel-count" id="owned-count"></span></h2>
          <span class="armor-legend"><span class="armor-type-icon">⬡</span>Hard <span class="armor-type-icon">≈</span>Soft</span>
        </div>
        <div class="owned-summary" id="owned-summary"></div>
        <div class="panel-content" id="armor-list"></div>
        <div class="expand-indicator"></div>
      </div>

      <div class="panel panel-collapsible" id="armor-store-panel">
        <div class="panel-heading">
          <h2>Armor Store</h2>
        </div>
        <div class="panel-content" id="armor-store"></div>
        <div class="expand-indicator"></div>
      </div>

    </div>
  </Layout>
  <script src="../scripts/armor/index.ts"></script>
</HTML>
